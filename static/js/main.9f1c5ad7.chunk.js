(this["webpackJsonpenigma-system"]=this["webpackJsonpenigma-system"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/temporary-photo.41231ccc.png"},25:function(e,t,a){e.exports=a(53)},30:function(e,t,a){},31:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),s=(a(30),a(10)),c=a(11),o=a(16),m=a(12),u=a(17),v=(a(31),a(55)),p=a(58),h=a(56),b=a(57),f=a(4),g=a.n(f),d=a(22),E=a.n(d),y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).state={vehicles:{},vehiclesDownloaded:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://dev.vozilla.pl/api-client-portal/map?objectType=VEHICLE").then((function(e){return e.json()})).then((function(t){e.setState({vehicles:t.objects,vehiclesDownloaded:!0}),e.forceUpdate()}))}},{key:"setDynamicMarkerColor",value:function(e){return g.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-".concat("AVAILABLE"==e?"green":"blue",".png")})}},{key:"setDynamicStatusColor",value:function(e){return"AVAILABLE"==e?"#28A745":"blue"}},{key:"render",value:function(){var e=this,t=[];this.state.vehiclesDownloaded&&(t=this.state.vehicles,this.props.filterAvailable&&(t=t.filter((function(e){return"AVAILABLE"==e.status}))),t=(t=t.filter((function(t){return t.rangeKm>=e.props.filterKilometersRange.min&&t.rangeKm<=e.props.filterKilometersRange.max}))).map((function(t){return r.a.createElement(v.a,{position:[t.location.latitude,t.location.longitude],icon:e.setDynamicMarkerColor(t.status),key:t.id},r.a.createElement(p.a,null,r.a.createElement("div",{className:"vehiclePopup"},r.a.createElement("div",{className:"textColumn"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.platesNumber),r.a.createElement("div",{className:"rangeText"},"Range: ",t.rangeKm," km"),r.a.createElement("div",{className:"statusWrapper",style:{backgroundColor:e.setDynamicStatusColor(t.status)}},t.status)),r.a.createElement("div",{className:"photoColumn"},r.a.createElement("img",{src:E.a,alt:"Car"}),r.a.createElement("div",{className:"myProgress"},r.a.createElement("div",{className:"myBar",style:{width:"".concat(t.batteryLevelPct,"%")}}))))))})));return r.a.createElement(h.a,{center:[52.2627124327,21],zoom:13},r.a.createElement(b.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t)}}]),t}(r.a.Component),k=a(24),A=a.n(k);a(51);var N=function(e){return r.a.createElement("div",{className:"filtres"},r.a.createElement("label",{className:"chechbox-container"},"Available",r.a.createElement("input",{type:"checkbox",onChange:e.setFilterAvailable}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("div",{className:"filterLabel"},"Distance to drive:",r.a.createElement(A.a,{maxValue:300,minValue:0,formatLabel:function(e){return"".concat(e," km")},value:e.stateKilometersRange,onChange:function(t){return e.setFilterKilometersRange({value:t})}})))},R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={available:!1,kilometersRange:{min:0,max:300}},a.setFilterKilometersRange=function(e){a.setState((function(t){var a=Object.assign({},t.kilometersRange);return a.min=e.value.min,a.max=e.value.max,{kilometersRange:a}}))},a.setFilterAvailable=function(){a.setState({available:!a.state.available})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"row"},r.a.createElement("h1",{className:"text-center"},"Check our map")),r.a.createElement(N,{setFilterKilometersRange:this.setFilterKilometersRange,setFilterAvailable:this.setFilterAvailable,stateAvailable:this.state.available,stateKilometersRange:this.state.kilometersRange}),r.a.createElement(y,{filterAvailable:this.state.available,filterKilometersRange:this.state.kilometersRange}))}}]),t}(r.a.Component);a(52);i.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.9f1c5ad7.chunk.js.map