(this["webpackJsonpenigma-system"]=this["webpackJsonpenigma-system"]||[]).push([[0],{24:function(e,t,a){e.exports=a(52)},29:function(e,t,a){},30:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),s=(a(29),a(10)),o=a(11),c=a(16),m=a(12),u=a(17),v=(a(30),a(54)),h=a(57),p=a(55),g=a(56),b=a(4),f=a.n(b),d=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={vehicles:{},vehiclesDownloaded:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://dev.vozilla.pl/api-client-portal/map?objectType=VEHICLE").then((function(e){return e.json()})).then((function(t){e.setState({vehicles:t.objects,vehiclesDownloaded:!0}),e.forceUpdate()}))}},{key:"setDynamicMarkerColor",value:function(e){return f.a.icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-".concat("AVAILABLE"==e?"green":"blue",".png")})}},{key:"setDynamicStatusColor",value:function(e){return"AVAILABLE"==e?"#28A745":"blue"}},{key:"render",value:function(){var e=this,t=[];this.state.vehiclesDownloaded&&(t=this.state.vehicles,this.props.filterAvailable&&(t=t.filter((function(e){return"AVAILABLE"==e.status}))),t=(t=t.filter((function(t){return t.rangeKm>=e.props.filterKilometersRange.min&&t.rangeKm<=e.props.filterKilometersRange.max}))).map((function(t){return r.a.createElement(v.a,{position:[t.location.latitude,t.location.longitude],icon:e.setDynamicMarkerColor(t.status),key:t.id},r.a.createElement(h.a,null,r.a.createElement("div",{className:"vehiclePopup"},r.a.createElement("div",{className:"textColumn"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.platesNumber),r.a.createElement("div",{className:"rangeText"},"Range: ",t.rangeKm," km"),r.a.createElement("div",{className:"statusWrapper",style:{backgroundColor:e.setDynamicStatusColor(t.status)}},t.status)),r.a.createElement("div",{className:"photoColumn"},r.a.createElement("img",{src:"../cars/temporary-photo.png",alt:""}),r.a.createElement("div",{className:"myProgress"},r.a.createElement("div",{className:"myBar",style:{width:"".concat(t.batteryLevelPct,"%")}}))))))})));return r.a.createElement(p.a,{center:[52.2627124327,21],zoom:13},r.a.createElement(g.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),t)}}]),t}(r.a.Component),E=a(23),k=a.n(E);a(50);var y=function(e){return r.a.createElement("div",{className:"filtres"},r.a.createElement("label",{className:"chechbox-container"},"Available",r.a.createElement("input",{type:"checkbox",onChange:e.setFilterAvailable}),r.a.createElement("span",{className:"checkmark"})),r.a.createElement("div",{className:"filterLabel"},"Distance to drive:",r.a.createElement(k.a,{maxValue:300,minValue:0,formatLabel:function(e){return"".concat(e," km")},value:e.stateKilometersRange,onChange:function(t){return e.setFilterKilometersRange({value:t})}})))},A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={available:!1,kilometersRange:{min:0,max:300}},a.setFilterKilometersRange=function(e){a.setState((function(t){var a=Object.assign({},t.kilometersRange);return a.min=e.value.min,a.max=e.value.max,{kilometersRange:a}}))},a.setFilterAvailable=function(){a.setState({available:!a.state.available})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"row"},r.a.createElement("h1",{className:"text-center"},"Check our map")),r.a.createElement(y,{setFilterKilometersRange:this.setFilterKilometersRange,setFilterAvailable:this.setFilterAvailable,stateAvailable:this.state.available,stateKilometersRange:this.state.kilometersRange}),r.a.createElement(d,{filterAvailable:this.state.available,filterKilometersRange:this.state.kilometersRange}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(51);i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.a07598d0.chunk.js.map